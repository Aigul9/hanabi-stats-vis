{"version":3,"sources":["constants.js","main.js"],"names":["DB_PATH","DB_USER","DB_PASSWORD","viz","empty","limit","exist","showError","text","document","getElementById","innerHTML","classList","remove","add","disable","item","disabled","value","enable","verify","radioPlayer","radioRecords","textPlayer","textRecords","checked","isInt","cypher","num","Number","isInteger","draw","res","config","container_id","server_url","server_user","server_password","labels","Player","caption","relationships","REL","thickness","initial_cypher","NeoVis","default","render","querySelector","open","e","handleChange","window","onload","addEventListener","button","onclick","preventDefault","keyup","et","keyCode"],"mappings":";AAAO,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,QAAA,QAAA,QAAA,iBAAA,EAAA,IAAMA,EAAU,wCACrBC,EAAU,QACVC,EAAc,8CAFT,QAAA,YAAA,EAAA,QAAA,QAAA,EAAA,QAAA,QAAA;;ACAP,aAEA,IAEIC,EAFJ,EAAA,QAAA,kBAGMC,EAAQ,kBACZC,EAAQ,oBACRC,EAAQ,mBAEV,SAASC,EAAUC,GACjBC,SAASC,eAAe,WAAWC,UAAYH,EAC/CC,SAASC,eAAe,WAAWE,UAAUC,OAAO,eACpDJ,SAASC,eAAe,WAAWE,UAAUE,IAAI,WAGnD,SAASC,EAAQC,GACfA,EAAKC,UAAW,EAChBD,EAAKE,MAAQ,GAGf,SAASC,EAAOH,GACdA,EAAKC,UAAW,EAGlB,SAASG,IACDC,IAAAA,EAAcZ,SAASC,eAAe,eACtCY,EAAeb,SAASC,eAAe,gBAEvCa,EAAad,SAASC,eAAe,cAAcQ,MACnDM,EAAcf,SAASC,eAAe,eAAeQ,MAWvDI,GAAAA,EAAaG,SAA2B,OAAhBD,GAAwC,KAAhBA,EAAoB,CAClEE,GAAAA,GAAOF,GAAc,CACjBG,IAAAA,EAAkDH,yCAAAA,OAAAA,GAEjDG,OADPlB,SAASC,eAAe,WAAWE,UAAUE,IAAI,eAC1Ca,EAGA,OADPpB,EAAUF,IACH,EAEJ,GAAIgB,EAAYI,SAA0B,OAAfF,GAAsC,KAAfA,EAAmB,CACpEI,IAAAA,EAA6BJ,oBAAAA,OAAAA,EAAnC,8BAEOI,OADPlB,SAASC,eAAe,WAAWE,UAAUE,IAAI,eAC1Ca,EAGA,OADPpB,EAAUH,IACH,EAIX,SAASsB,EAAME,GACTC,SAAAA,OAAOC,UAAUF,IAAQA,EAAM,GAAKA,GAAO,KAKjD,SAASG,IACHC,IAAAA,EAAMZ,IACN,GAACY,EAAD,CAGAC,IAAAA,EAAS,CACXC,aAAc,MACdC,WAAYnC,EAFD,QAGXoC,YAAanC,EAHF,QAIXoC,gBAAiBnC,EAJN,YAKXoC,OAAQ,CACNC,OAAQ,CACNC,QAAS,SAGbC,cAAe,CACbC,IAAK,CACHC,UAAW,SACXH,QAAS,WAGbI,eAAgBZ,GAGd,KACF7B,EAAM,IAAI0C,OAAOC,QAAQb,IACrBc,SACYtC,SAASuC,cAAc,WAC/BC,MAAO,EACf,MAAOC,GACP3C,EAAUD,KAId,SAAS6C,IACD9B,IAAAA,EAAcZ,SAASC,eAAe,eACtCY,EAAeb,SAASC,eAAe,gBAEzCa,EAAad,SAASC,eAAe,cACrCc,EAAcf,SAASC,eAAe,eAEtCW,EAAYI,SACdV,EAAQS,GACRL,EAAOI,IACED,EAAaG,UACtBV,EAAQQ,GACRJ,EAAOK,IAQX4B,OAAOC,OAAS,WACd5C,SACGC,eAAe,eACf4C,iBAAiB,SAAUH,GAC9B1C,SACGC,eAAe,gBACf4C,iBAAiB,SAAUH,GAGxBI,IAAAA,EAAS9C,SAASuC,cAAc,YACtCO,EAAOC,QAAU,SAAUN,GACzBA,EAAEO,iBACF1B,KAGFwB,EAAOG,MAAQ,SAAUR,GACJ,KAAfS,GAAGC,UACLV,EAAEO,iBACF1B","file":"main.7e4db0cc.js","sourceRoot":"..\\src","sourcesContent":["export const DB_PATH = \"neo4j+s://4e956df7.databases.neo4j.io\",\r\n  DB_USER = \"neo4j\",\r\n  DB_PASSWORD = \"PVu30YN-VesHEoS3HYj963nMp6oZRgDYmxfnQpaCuzs\";\r\n","\"use strict\";\r\n\r\nimport { DB_PATH, DB_USER, DB_PASSWORD } from \"./constants.js\";\r\n\r\nvar viz;\r\nconst empty = \"Field is empty.\",\r\n  limit = \"Incorrect number.\",\r\n  exist = \"Incorrect query.\";\r\n\r\nfunction showError(text) {\r\n  document.getElementById(\"message\").innerHTML = text;\r\n  document.getElementById(\"message\").classList.remove(\"not-visible\");\r\n  document.getElementById(\"message\").classList.add(\"visible\");\r\n}\r\n\r\nfunction disable(item) {\r\n  item.disabled = true;\r\n  item.value = \"\";\r\n}\r\n\r\nfunction enable(item) {\r\n  item.disabled = false;\r\n}\r\n\r\nfunction verify() {\r\n  const radioPlayer = document.getElementById(\"radioPlayer\");\r\n  const radioRecords = document.getElementById(\"radioRecords\");\r\n  // const radioFull = document.getElementById(\"radioFull\");\r\n  const textPlayer = document.getElementById(\"textPlayer\").value;\r\n  const textRecords = document.getElementById(\"textRecords\").value;\r\n\r\n  // if (\r\n  //   (textPlayer === null || textPlayer === \"\") &&\r\n  //   (textRecords === null || textRecords === \"\") &&\r\n  //   radioFull.checked\r\n  // ) {\r\n  //   const cypher = \"MATCH (n)-[r:REL]->(m) RETURN * \";\r\n  //   document.getElementById(\"message\").classList.add(\"not-visible\");\r\n  //   return cypher;\r\n  // } else\r\n  if (radioRecords.checked && textRecords !== null && textRecords !== \"\") {\r\n    if (isInt(+textRecords)) {\r\n      const cypher = `MATCH (n)-[r:REL]->(m) RETURN * LIMIT ${textRecords}`;\r\n      document.getElementById(\"message\").classList.add(\"not-visible\");\r\n      return cypher;\r\n    } else {\r\n      showError(limit);\r\n      return false;\r\n    }\r\n  } else if (radioPlayer.checked && textPlayer !== null && textPlayer !== \"\") {\r\n    const cypher = `MATCH (p {name: '${textPlayer}'})-[r]-(t) RETURN p, r, t`;\r\n    document.getElementById(\"message\").classList.add(\"not-visible\");\r\n    return cypher;\r\n  } else {\r\n    showError(empty);\r\n    return false;\r\n  }\r\n}\r\n\r\nfunction isInt(num) {\r\n  if (Number.isInteger(num) && num > 0 && num <= 1000) {\r\n    return true;\r\n  } else return false;\r\n}\r\n\r\nfunction draw() {\r\n  var res = verify();\r\n  if (!res) {\r\n    return;\r\n  }\r\n  var config = {\r\n    container_id: \"viz\",\r\n    server_url: DB_PATH,\r\n    server_user: DB_USER,\r\n    server_password: DB_PASSWORD,\r\n    labels: {\r\n      Player: {\r\n        caption: \"name\",\r\n      },\r\n    },\r\n    relationships: {\r\n      REL: {\r\n        thickness: \"weight\",\r\n        caption: \"weight\",\r\n      },\r\n    },\r\n    initial_cypher: res,\r\n  };\r\n\r\n  try {\r\n    viz = new NeoVis.default(config);\r\n    viz.render();\r\n    const details = document.querySelector(\"details\");\r\n    details.open = false;\r\n  } catch (e) {\r\n    showError(exist);\r\n  }\r\n}\r\n\r\nfunction handleChange() {\r\n  const radioPlayer = document.getElementById(\"radioPlayer\");\r\n  const radioRecords = document.getElementById(\"radioRecords\");\r\n  // const radioFull = document.getElementById(\"radioFull\");\r\n  var textPlayer = document.getElementById(\"textPlayer\");\r\n  var textRecords = document.getElementById(\"textRecords\");\r\n\r\n  if (radioPlayer.checked) {\r\n    disable(textRecords);\r\n    enable(textPlayer);\r\n  } else if (radioRecords.checked) {\r\n    disable(textPlayer);\r\n    enable(textRecords);\r\n  }\r\n  // else if (radioFull.checked) {\r\n  //   disable(textPlayer);\r\n  //   disable(textRecords);\r\n  // }\r\n}\r\n\r\nwindow.onload = function () {\r\n  document\r\n    .getElementById(\"radioPlayer\")\r\n    .addEventListener(\"change\", handleChange);\r\n  document\r\n    .getElementById(\"radioRecords\")\r\n    .addEventListener(\"change\", handleChange);\r\n  // document.getElementById(\"radioFull\").addEventListener(\"change\", handleChange);\r\n\r\n  const button = document.querySelector(\".trigger\");\r\n  button.onclick = function (e) {\r\n    e.preventDefault();\r\n    draw();\r\n  };\r\n\r\n  button.keyup = function (e) {\r\n    if (et.keyCode === 13) {\r\n      e.preventDefault();\r\n      draw();\r\n    }\r\n  };\r\n};\r\n"]}